{"version":3,"sources":["uni-app:///main.js","webpack:///C:/uniapp/live-stream/pages/live/live.nvue?bb91","webpack:///C:/uniapp/live-stream/pages/live/live.nvue?015e","webpack:///C:/uniapp/live-stream/pages/live/live.nvue?a522","webpack:///C:/uniapp/live-stream/pages/live/live.nvue?cf57","uni-app:///pages/live/live.nvue","webpack:///C:/uniapp/live-stream/pages/live/live.nvue?9f9b*","webpack:///C:/uniapp/live-stream/pages/live/live.nvue?1a1e","webpack:///C:/uniapp/live-stream/pages/live/live.nvue?9f9b","webpack:///C:/uniapp/live-stream/pages/live/live.nvue?ed0b"],"names":["createPage","Page"],"mappings":"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","file":"pages/live/live.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/live/live.nvue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./live.nvue?vue&type=template&id=1127cb58&\"\nvar renderjs\nimport script from \"./live.nvue?vue&type=script&lang=js&\"\nexport * from \"./live.nvue?vue&type=script&lang=js&\"\nimport style0 from \"./live.nvue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./live.nvue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/live/live.nvue\"\nexport default component.exports","export * from \"-!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./live.nvue?vue&type=template&id=1127cb58&\"","var components = {\n  uniPopup: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event, item) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        item = _temp2.item\n\n      var _temp, _temp2\n\n      _vm.giftActiveId = item.id\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./live.nvue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./live.nvue?vue&type=script&lang=js&\"","<style>\n  view,\n  swiper-item,\n  scroll-view {\n    display:flex;\n    flex-direction:column;\n    flex-shrink: 0;\n    flex-grow: 0;\n    flex-basis: auto;\n    align-items: stretch;\n    align-content: flex-start;\n  }\n  view,\n  image,\n  input,\n  scroll-view,\n  swiper,\n  swiper-item,\n  text,\n  textarea,\n  video {\n    position: relative;\n    border: 0px solid #000000;\n    box-sizing: border-box;\n  }\n  swiper-item {\n    position: absolute;\n  }\n</style>\n<template>\r\n\t<view class=\"flex-1\">\r\n\t\t<video class=\"flex-1\" :src=\"src\" autoplay :controls=\"false\"></video>\r\n\t\t<!-- 头部 -->\r\n\t\t<view style=\"position: fixed;left: 0;right: 0;\" :style=\"'top:' + statusBarHeight + 'px'\">\r\n\t\t\t<!-- 个人信息|观看详细信息 -->\r\n\t\t\t<view style=\"height: 80rpx;\" class=\"px-2 flex justify-between align-center\">\r\n\t\t\t\t<view style=\"width: 325rpx;background-color: rgba(0,0,0,0.4);\" class=\"flex rounded-circle\">\r\n\t\t\t\t\t<view class=\"p\">\r\n\t\t\t\t\t\t<image\r\n\t\t\t\t\t\t\t:src=\"detail.user.avatar || '/static/pic/5.jpeg'\"\r\n\t\t\t\t\t\t\tstyle=\"width: 70rpx;height: 70rpx;\"\r\n\t\t\t\t\t\t\tclass=\"rounded-circle\"\r\n\t\t\t\t\t\t></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex-1 flex flex-column justify-center ml-1\">\r\n\t\t\t\t\t\t<text class=\"text-white font\">{{ detail.user.username }}</text>\r\n\t\t\t\t\t\t<text class=\"text-white font-sm\">{{ detail.user.id }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"p\">\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tclass=\"rounded-circle flex align-center justify-center bg-main\"\r\n\t\t\t\t\t\t\tstyle=\"width: 70rpx;height: 70rpx;\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<text class=\"text-white\">+</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"width: 325rpx;background-color: rgba(0,0,0,0.4);\" class=\"flex rounded-circle\">\r\n\t\t\t\t\t<scroll-view scroll-x=\"true\" class=\"flex-1 flex\">\r\n\t\t\t\t\t\t<view class=\"p\" v-for=\"(item,index) in list\" :key=\"index\">\r\n\t\t\t\t\t\t\t<image\r\n\t\t\t\t\t\t\t\t:src=\"item.avatar||'/static/pic/5.jpeg'\"\r\n\t\t\t\t\t\t\t\tstyle=\"width: 70rpx;height: 70rpx;\"\r\n\t\t\t\t\t\t\t\tclass=\"rounded-circle\"\r\n\t\t\t\t\t\t\t></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t<view class=\"p\">\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tclass=\"rounded-circle flex align-center justify-center bg-danger\"\r\n\t\t\t\t\t\t\tstyle=\"width: 70rpx;height: 70rpx;\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<text class=\"text-white font-sm\">{{ list.length }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 金币 -->\r\n\t\t\t<view style=\"height: 80rpx;\" class=\"px-2 my-2 \">\r\n\t\t\t\t<view style=\"width: 325rpx;background-color: rgba(0,0,0,0.4);\" class=\"flex rounded-circle align-center\">\r\n\t\t\t\t\t<view class=\"p\"><text class=\"text-warning\">金币</text></view>\r\n\t\t\t\t\t<view class=\"flex-1 flex flex-column justify-center\">\r\n\t\t\t\t\t\t<text class=\"text-white font\">{{ detail.coin }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 收到礼物 -->\r\n\t\t\t<f-gift ref=\"gift\"></f-gift>\r\n\t\t</view>\r\n\t\t<!-- 弹幕 -->\r\n\t\t<f-danmu ref=\"danmu\"></f-danmu>\r\n\t\t<!-- 底部 -->\r\n\t\t<view style=\"height: 120rpx;\" class=\"flex align-center justify-between fixed-bottom\">\r\n\t\t\t<view class=\"px-2\">\r\n\t\t\t\t<view class=\"btn px-3\" @click=\"openInPut\"><text class=\"text-white font\">说点什么...</text></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex align-center\">\r\n\t\t\t\t<view class=\"btn btn-icon\">\r\n\t\t\t\t\t<text class=\"iconfont text-white\" style=\"font-size: 40px;\">&#xe633;</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"btn btn-icon bg-main\" @click=\"openGift\"><text class=\"iconfont\">&#xe67c;</text></view>\r\n\t\t\t\t<view class=\"btn btn-icon\"><text class=\"iconfont text-white\">&#xe7cd;</text></view>\r\n\t\t\t\t<view class=\"btn btn-icon\"><text class=\"iconfont text-white\" @click=\"back\">&#xe607;</text></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<uni-popup type=\"bottom\" ref=\"input\">\r\n\t\t\t<view class=\"bg-white flex align-center px-3\" style=\"height: 120rpx;\">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tv-model=\"content\"\r\n\t\t\t\t\tclass=\"border rounded flex-1 px-3 font-md\"\r\n\t\t\t\t\tplaceholder=\"说点什么...\"\r\n\t\t\t\t\tstyle=\"height: 80rpx;\"\r\n\t\t\t\t/>\r\n\t\t\t\t<view\r\n\t\t\t\t\tclass=\"flex align-center justify-center py-2 px-2 ml-3 rounded\"\r\n\t\t\t\t\t@click=\"submit\"\r\n\t\t\t\t\t:class=\"content === '' ? 'bg-main-disabled' : 'bg-main'\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<text class=\"font text-white\">发送</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t\t<!-- 送礼物弹出层 -->\r\n\t\t<uni-popup type=\"bottom\" ref=\"giftPopup\">\r\n\t\t\t<view class=\"bg-white\" style=\"width: 750rpx; height: 550rpx;\">\r\n\t\t\t\t<view class=\"flex justify-between align-center\" style=\"height: 100rpx;\">\r\n\t\t\t\t\t<text class=\"text-main font-md ml-3\">礼物</text>\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\tclass=\"flex align-center justify-center\"\r\n\t\t\t\t\t\tstyle=\"width: 100rpx; height: 100rpx;\"\r\n\t\t\t\t\t\t@click=\"closeGift\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<text class=\"iconfont\">&#xe607;</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<swiper :indicator-dots=\"true\" :duration=\"500\" style=\"height: 350rpx;\" class=\"border-bottom border-top\">\r\n\t\t\t\t\t<swiper-item>\r\n\t\t\t\t\t\t<view class=\"flex flex-wrap\">\r\n\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\tclass=\"flex flex-column justify-center align-center\"\r\n\t\t\t\t\t\t\t\tstyle=\"width: 187rpx; height: 175rpx;\"\r\n\t\t\t\t\t\t\t\tv-for=\"(item, index) in gifts\"\r\n\t\t\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t\t\t:class=\"giftActiveId === item.id ? 'border boder-main' : ''\"\r\n\t\t\t\t\t\t\t\t@click=\"giftActiveId = item.id\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<image\r\n\t\t\t\t\t\t\t\t\t:src=\"item.image\"\r\n\t\t\t\t\t\t\t\t\tmode=\"\"\r\n\t\t\t\t\t\t\t\t\tstyle=\"width: 100rpx; height: 100rpx;\"\r\n\t\t\t\t\t\t\t\t\tclass=\"rounded\"\r\n\t\t\t\t\t\t\t\t></image>\r\n\t\t\t\t\t\t\t\t<view class=\"flex mt-1\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"text-warning font mr-1\">{{ item.name }}</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"text-secondary font\">{{ item.icon }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t</swiper>\r\n\t\t\t\t<view class=\"flex align-center justify-end\" style=\"height: 100rpx;\">\r\n\t\t\t\t\t<view class=\"flex align-center justify-center py-2 px-2 mr-3 rounded bg-warning\" @click=\"openCoin\">\r\n\t\t\t\t\t\t<text class=\"font\">充值</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex align-center justify-center py-2 px-2 mr-3 rounded bg-main\" @click=\"sendGift\">\r\n\t\t\t\t\t\t<text class=\"font text-white\">发送</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport fGift from '../../components/live/f-gift.vue';\r\nimport fDanmu from '../../components/live/f-danmu.vue';\r\nimport uniPopup from '../../components/uni-ui/uni-popup/uni-popup.vue';\r\nimport myGifts from '../../common/gifts.js';\r\nimport $H from '../../common/request.js';\r\nimport $C from '../../common/config.js';\r\nimport { mapState } from 'vuex';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tstatusBarHeight: 0,\r\n\t\t\tcontent: '',\r\n\t\t\tgifts: [],\r\n\t\t\tgiftActiveId: 0,\r\n\t\t\tid: 0,\r\n\t\t\tdetail: {\r\n\t\t\t\tcreated_time: '',\r\n\t\t\t\tid: 1,\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tcover: '',\r\n\t\t\t\tuser_id: 0,\r\n\t\t\t\tlook_count: 0,\r\n\t\t\t\tcoin: 0,\r\n\t\t\t\tkey: '',\r\n\t\t\t\tstatus: 0,\r\n\t\t\t\tuserId: 0,\r\n\t\t\t\tuser: {\r\n\t\t\t\t\tid: 0,\r\n\t\t\t\t\tusername: '',\r\n\t\t\t\t\tavatar: ''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlist: [],\r\n\t\t\tsign: ''\r\n\t\t};\r\n\t},\r\n\tonLoad(option) {\r\n\t\tlet res = uni.getSystemInfoSync();\r\n\t\tthis.statusBarHeight = res.statusBarHeight;\r\n\t\tthis.gifts = myGifts;\r\n\t\tthis.id = option.id;\r\n\t\tconsole.log(option.id);\r\n\t\t$H.get('/live/read/' + this.id).then(res => {\r\n\t\t\tconsole.log(res);\r\n\t\t\tthis.detail = res.data;\r\n\t\t\tthis.sign = res.sign;\r\n\t\t});\r\n\t\tuni.$on('live', this.handleLiveEvent);\r\n\t},\r\n\tcomputed: {\r\n\t\tsrc() {\r\n\t\t\tif (this.detail.key == '' || this.sign == '') {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\treturn `https://live-stream.utools.club/live/${this.detail.key}.flv?sign=${this.sign}`;\r\n\t\t},\r\n\t\t...mapState({\r\n\t\t\tsocket: state => state.socket,\r\n\t\t\ttoken: state => state.token\r\n\t\t})\r\n\t},\r\n\tmethods: {\r\n\t\thandleLiveEvent(e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tlet d = e.data;\r\n\t\t\tswitch (e.type) {\r\n\t\t\t\tcase 'online':\r\n\t\t\t\t\tif (d.action === 'join') {\r\n\t\t\t\t\t\tthis.list = d.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(d.action==='leave'){\r\n\t\t\t\t\t\tthis.list = d.data\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\tjoinOrLeaveLive(type) {\r\n\t\t\tconsole.log(type);\r\n\t\t\tif (this.socket && this.token) {\r\n\t\t\t\tthis.socket.emit(type + 'Live', {\r\n\t\t\t\t\tlive_id: this.id,\r\n\t\t\t\t\ttoken: this.token\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\topenCoin() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '../coin/coin'\r\n\t\t\t});\r\n\t\t},\r\n\t\topenGift() {\r\n\t\t\tthis.$refs.giftPopup.open();\r\n\t\t},\r\n\t\tcloseGift() {\r\n\t\t\tthis.$refs.giftPopup.close();\r\n\t\t},\r\n\t\tsendGift() {\r\n\t\t\tif (this.giftActiveId === 0) {\r\n\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\ttitle: '请选择要发送的礼物',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tlet index = this.gifts.findIndex(item => item.id === this.giftActiveId);\r\n\t\t\tif (index === -1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet g = this.gifts[index];\r\n\t\t\tthis.$refs.gift.send({\r\n\t\t\t\tusername: this.$store.state.user.username,\r\n\t\t\t\tavatar: this.$store.state.user.avatar,\r\n\t\t\t\tgift_name: g.name,\r\n\t\t\t\tgift_image: g.image,\r\n\t\t\t\tnum: 10\r\n\t\t\t});\r\n\t\t\tthis.closeGift();\r\n\t\t},\r\n\t\topenInPut() {\r\n\t\t\tthis.$store.dispatch('authMethod', () => {\r\n\t\t\t\tthis.$refs.input.open();\r\n\t\t\t});\r\n\t\t},\r\n\t\tsubmit() {\r\n\t\t\tif (this.content === '') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.$refs.danmu.send({\r\n\t\t\t\tid: Math.random() * 100,\r\n\t\t\t\tname: this.$store.state.user.username,\r\n\t\t\t\tcontent: this.content\r\n\t\t\t});\r\n\t\t\tthis.content = '';\r\n\t\t\tthis.$refs.input.close();\r\n\t\t},\r\n\t\tback() {\r\n\t\t\tuni.navigateBack({\r\n\t\t\t\tdelta: 1\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.joinOrLeaveLive('join');\r\n\t},\r\n\tdestroyed() {\r\n\t\tthis.joinOrLeaveLive('leave');\r\n\t\tuni.$off('live',this.handleLiveEvent)\r\n\t},\r\n\tcomponents: {\r\n\t\tfGift,\r\n\t\tfDanmu,\r\n\t\tuniPopup\r\n\t}\r\n};\r\n</script>\r\n\r\n<style>\r\n.btn {\r\n\theight: 80rpx;\r\n\tborder-radius: 100rpx;\r\n\tbackground-color: rgba(255, 255, 255, 0.12);\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n.btn-icon {\r\n\twidth: 80rpx;\r\n\tmargin-right: 20rpx;\r\n}\r\n</style>\n","import mod from \"-!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./live.nvue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./live.nvue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1604486109647\n      var cssReload = require(\"C:/Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./live.nvue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./live.nvue?vue&type=style&index=1&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1604486109658\n      var cssReload = require(\"C:/Users/Angel/Desktop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}